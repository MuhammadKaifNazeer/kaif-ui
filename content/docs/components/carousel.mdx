---
title: Carousel
description: Display content seamlessly with the smooth Carousel component.
---

import { CarouselDemo } from "@/components/kaif-ui/components/Carousels/carousel";
import { BasicCarousel } from "@/components/kaif-ui/components/Carousels/basicCarousel";
import { CarouselWithCustomIndicators } from "@/components/kaif-ui/components/Carousels/carouselWithCustomIndicators";
import { CarouselWithCustomSizes } from "@/components/kaif-ui/components/Carousels/carouselWithCustomSizes";

import { Tabs, Tab } from "fumadocs-ui/components/tabs";
import { Step, Steps } from "fumadocs-ui/components/steps";
import { TypeTable } from "fumadocs-ui/components/type-table";

<div className="space-y-2 mb-4">
  <h1 class="scroll-m-20 text-4xl font-bold tracking-tight text-black dark:text-white">
    Carousel
  </h1>
  <p class="text-lg text-muted-foreground">
    Display content seamlessly with the smooth Carousel component.
  </p>
</div>

<Tabs items={["preview", "code"]} className="my-4">
  <Tab value={"preview"}>
    <div className="bg-background rounded-xl">
      <CarouselDemo />
    </div>
  </Tab>
  <Tab value={"code"}>
    ```tsx
    import Image from "next/image";
import {
  Carousel,
  CarouselContent,
  CarouselNavigation,
  CarouselItem,
} from "@/components/kaif-ui/carousel";

const carouselItems = [
{
id: 1,
imageUrl:
"https://cdn.pixabay.com/photo/2024/09/20/05/39/panda-9060543_640.jpg",
quote: "Success is not in what you have, but who you are.",
},
{
id: 2,
imageUrl:
"https://cdn.pixabay.com/photo/2024/04/12/18/18/ai-generated-8692405_1280.jpg",
quote: "The best way to predict the future is to create it.",
},
{
id: 3,
imageUrl:
"https://cdn.pixabay.com/photo/2024/01/10/03/29/ai-generated-8498790_1280.jpg",
quote: "Don’t watch the clock; do what it does. Keep going.",
},
{
id: 4,
imageUrl:
"https://cdn.pixabay.com/photo/2024/05/30/17/23/bicycle-8798997_640.jpg",
quote: "Believe you can and you're halfway there.",
},
{
id: 5,
imageUrl:
"https://cdn.pixabay.com/photo/2024/05/26/10/26/ai-generated-8788505_960_720.jpg",
quote:
"Success usually comes to those who are too busy to be looking for it.",
},
{
id: 6,
imageUrl:
"https://cdn.pixabay.com/photo/2024/06/08/16/16/ai-generated-8817146_640.jpg",
quote: "Opportunities don't happen, you create them.",
},
{
id: 7,
imageUrl:
"https://cdn.pixabay.com/photo/2024/06/12/11/43/cottage-8825141_640.jpg",
quote: "Don’t be afraid to give up the good to go for the great.",
},
];

export function CarouselDemo() {
  return (
    <div className="min-h-screen flex items-center justify-center]">
      <div className="relative w-full px-4 pb-[5rem]">
        <Carousel>
          <CarouselContent className="-ml-4">
            {carouselItems.map((item) => (
              <CarouselItem key={item.id} className="sm:basis-1/3 pl-4">
                <div
                  className="relative flex shrink-0 snap-start scroll-ml-[var(--scroll-padding)] flex-col justify-end overflow-hidden rounded-3xl aspect-[3/4] w-full dark:border "
                  style={{ opacity: 1 }}
                >
                  <Image
                    alt="Carousel image"
                    src={item.imageUrl}
                    fill
                    className="absolute inset-x-0 top-0 aspect-square w-full object-cover"
                  />

                  <div
                    aria-hidden="true"
                    className="absolute inset-0 rounded-3xl bg-gradient-to-t from-black from-[calc(7/16*100%)] ring-1 ring-inset ring-gray-950/10 sm:from-25%"
                  />

                  <figure className="relative p-4 sm:p-6 lg:p-10">
                    <blockquote>
                      <p className="relative text-sm sm:text-md md:text-lg lg:text-xl text-white">
                        <span
                          aria-hidden="true"
                          className="absolute -translate-x-full"
                        >
                          “
                        </span>
                        {item.quote}
                        <span aria-hidden="true" className="absolute">
                          ”
                        </span>
                      </p>
                    </blockquote>
                  </figure>
                </div>
              </CarouselItem>
            ))}
          </CarouselContent>
          <CarouselNavigation
            className="absolute -bottom-20 left-auto top-auto w-full justify-end gap-2"
            classNameButton="bg-zinc-800 *:stroke-zinc-50 dark:bg-zinc-200 dark:*:stroke-zinc-800"
            alwaysShow
          />
        </Carousel>
      </div>
    </div>

);
}

````

  </Tab>
</Tabs>

<Tabs items={["preview", "code"]} className="my-4">
  <Tab value={"preview"}>
    <div className="bg-background rounded-xl">
      <BasicCarousel />
    </div>
  </Tab>
  <Tab value={"code"}>
    ```tsx
    import Image from "next/image";
import {
  Carousel,
  CarouselContent,
  CarouselNavigation,
  CarouselIndicator,
  CarouselItem,
} from "@/components/kaif-ui/carousel";

// Array of image URLs
const images = [
"https://cdn.pixabay.com/photo/2024/05/26/10/26/ai-generated-8788505_960_720.jpg",
"https://cdn.pixabay.com/photo/2024/06/08/16/16/ai-generated-8817146_640.jpg",
"https://cdn.pixabay.com/photo/2024/06/12/11/43/cottage-8825141_640.jpg",
"https://cdn.pixabay.com/photo/2024/05/30/17/23/bicycle-8798997_640.jpg",
];

export function BasicCarousel() {
  return (
    <div className="py-[3rem]">
      <div className="relative w-full max-w-xs mx-auto">
        <Carousel>
          <CarouselContent>
            {images.map((src, index) => (
              <CarouselItem key={index} className="p-4">
                <div className="flex aspect-square items-center justify-center relative pointer-events-none">
                  <Image
                    src={src}
                    alt={`Carousel image ${index + 1}`}
                    fill
                    className="object-cover rounded-xl"
                  />
                </div>
              </CarouselItem>
            ))}
          </CarouselContent>
          <CarouselNavigation alwaysShow />
          <CarouselIndicator />
        </Carousel>
      </div>
    </div>
  );
}
````

  </Tab>
</Tabs>

<h1 class="scroll-m-20 text-2xl font-bold tracking-tight text-black dark:text-white mt-10 mb-4">
  Carousel With Custom Indicators
</h1>

<Tabs items={["preview", "code"]} className="my-4">
  <Tab value={"preview"}>
    <div className="bg-background rounded-xl">
      <CarouselWithCustomIndicators />
    </div>
  </Tab>
  <Tab value={"code"}>
 ```tsx
"use client";
import Image from "next/image";
import {
  Carousel,
  CarouselContent,
  CarouselItem,
} from "@/components/kaif-ui/carousel";
import { useState } from "react";

// Array of image URLs
const images = [
"https://cdn.pixabay.com/photo/2024/04/12/18/18/ai-generated-8692405_1280.jpg",
"https://cdn.pixabay.com/photo/2024/01/10/03/29/ai-generated-8498790_1280.jpg",
"https://cdn.pixabay.com/photo/2024/09/20/05/39/panda-9060543_640.jpg",
"https://cdn.pixabay.com/photo/2024/05/30/17/23/bicycle-8798997_640.jpg",
];

export function CarouselWithCustomIndicators() {
  const [index, setIndex] = useState(0);

return (

<div className="relative w-full max-w-xs py-8 mx-auto">
<Carousel index={index} onIndexChange={setIndex}>
<CarouselContent className="relative">
{images.map((src, idx) => {
return (
<CarouselItem key={idx} className="p-4">
<div className="flex aspect-square items-center justify-center relative pointer-events-none">
<Image
src={src}
alt={`Carousel image ${idx + 1}`}
fill
className="object-cover rounded-xl"
/>
</div>
</CarouselItem>
);
})}
</CarouselContent>
</Carousel>
<div className="flex w-full justify-center space-x-3 px-4">
{images.map((\_, idx) => {
return (
<button
key={idx}
type="button"
aria-label={`Go to slide ${idx + 1}`}
onClick={() => setIndex(idx)}
className={`h-12 w-12 border border-zinc-200 dark:border-zinc-800 ${
                index === idx ? "bg-zinc-200 dark:bg-zinc-800" : ""
              }`} >
{idx + 1}
</button>
);
})}
</div>
</div>
);
}
```
  </Tab>
</Tabs>

<h1 class="scroll-m-20 text-2xl font-bold tracking-tight text-black dark:text-white mt-10 mb-4">
  Carousel With Custom Sizes
</h1>

<Tabs items={["preview", "code"]} className="my-4">
  <Tab value={"preview"}>
    <div className="bg-background rounded-xl">
      <CarouselWithCustomSizes />
    </div>
  </Tab>
  <Tab value={"code"}>
    ```tsx
    import Image from "next/image";
import {
  Carousel,
  CarouselContent,
  CarouselNavigation,
  CarouselItem,
} from "@/components/kaif-ui/carousel";

// Array of image URLs
const images = [
"https://cdn.pixabay.com/photo/2024/09/20/05/39/panda-9060543_640.jpg",
"https://cdn.pixabay.com/photo/2024/04/12/18/18/ai-generated-8692405_1280.jpg",
"https://cdn.pixabay.com/photo/2024/01/10/03/29/ai-generated-8498790_1280.jpg",
"https://cdn.pixabay.com/photo/2024/05/30/17/23/bicycle-8798997_640.jpg",
"https://cdn.pixabay.com/photo/2024/05/26/10/26/ai-generated-8788505_960_720.jpg",
"https://cdn.pixabay.com/photo/2024/06/08/16/16/ai-generated-8817146_640.jpg",
"https://cdn.pixabay.com/photo/2024/06/12/11/43/cottage-8825141_640.jpg",
];

export function CarouselWithCustomSizes() {
  return (
    <div className="py-[3rem]">
      <div className="relative w-full max-w-sm mx-auto">
        <Carousel>
          <CarouselContent className="gap-2">
            {images.map((src, index) => {
              return (
                <CarouselItem key={index} className="basis-1/3">
                  <div className="flex aspect-square items-center justify-center relative pointer-events-none">
                    <Image
                      src={src}
                      alt={`Carousel image ${index + 1}`}
                      fill
                      className="object-cover rounded-xl"
                    />
                  </div>
                </CarouselItem>
              );
            })}
          </CarouselContent>
          <CarouselNavigation />
        </Carousel>
      </div>
    </div>
  );
}
    ````
  </Tab>
</Tabs>

<h1 class="scroll-m-20 text-2xl font-bold tracking-tight text-black dark:text-white mt-10 mb-4">
  Installation
</h1>

<Steps>
<Step>

### Install Dependencies

```bash
npm i framer-motion lucide-react
```

</Step>
<Step>

### Add util file

```tsx title="lib/utils.ts"
import { clsx, type ClassValue } from "clsx";
import { twMerge } from "tailwind-merge";

export function cn(...inputs: ClassValue[]) {
  return twMerge(clsx(inputs));
}
```

</Step>
<Step>
### Copy the source code

```tsx title="components/kaif-ui/carousel.tsx"
"use client";

// Visit https://kaif-ui.vercel.app/ for more components like this

import {
  Children,
  ReactNode,
  createContext,
  useContext,
  useEffect,
  useRef,
  useState,
} from "react";
import { motion, Transition, useMotionValue } from "framer-motion";
import { cn } from "@/lib/utils";
import { ChevronLeft, ChevronRight } from "lucide-react";

type CarouselContextType = {
  index: number;
  setIndex: (newIndex: number) => void;
  itemsCount: number;
  setItemsCount: (newItemsCount: number) => void;
  disableDrag: boolean;
};

const CarouselContext = createContext<CarouselContextType | undefined>(
  undefined
);

function useCarousel() {
  const context = useContext(CarouselContext);
  if (!context) {
    throw new Error("useCarousel must be used within an CarouselProvider");
  }
  return context;
}

type CarouselProviderProps = {
  children: ReactNode;
  initialIndex?: number;
  onIndexChange?: (newIndex: number) => void;
  disableDrag?: boolean;
};

function CarouselProvider({
  children,
  initialIndex = 0,
  onIndexChange,
  disableDrag = false,
}: CarouselProviderProps) {
  const [index, setIndex] = useState<number>(initialIndex);
  const [itemsCount, setItemsCount] = useState<number>(0);

  const handleSetIndex = (newIndex: number) => {
    setIndex(newIndex);
    onIndexChange?.(newIndex);
  };

  useEffect(() => {
    setIndex(initialIndex);
  }, [initialIndex]);

  return (
    <CarouselContext.Provider
      value={{
        index,
        setIndex: handleSetIndex,
        itemsCount,
        setItemsCount,
        disableDrag,
      }}
    >
      {children}
    </CarouselContext.Provider>
  );
}

type CarouselProps = {
  children: ReactNode;
  className?: string;
  initialIndex?: number;
  index?: number;
  onIndexChange?: (newIndex: number) => void;
  disableDrag?: boolean;
};

function Carousel({
  children,
  className,
  initialIndex = 0,
  index: externalIndex,
  onIndexChange,
  disableDrag = false,
}: CarouselProps) {
  const [internalIndex, setInternalIndex] = useState<number>(initialIndex);
  const isControlled = externalIndex !== undefined;
  const currentIndex = isControlled ? externalIndex : internalIndex;

  const handleIndexChange = (newIndex: number) => {
    if (!isControlled) {
      setInternalIndex(newIndex);
    }
    onIndexChange?.(newIndex);
  };

  return (
    <CarouselProvider
      initialIndex={currentIndex}
      onIndexChange={handleIndexChange}
      disableDrag={disableDrag}
    >
      <div className={cn("group/hover relative", className)}>
        <div className="overflow-hidden">{children}</div>
      </div>
    </CarouselProvider>
  );
}

type CarouselNavigationProps = {
  className?: string;
  classNameButton?: string;
  alwaysShow?: boolean;
};

function CarouselNavigation({
  className,
  classNameButton,
  alwaysShow,
}: CarouselNavigationProps) {
  const { index, setIndex, itemsCount } = useCarousel();

  return (
    <div
      className={cn(
        "pointer-events-none absolute left-[-12.5%] top-1/2 flex w-[125%] -translate-y-1/2 justify-between px-2",
        className
      )}
    >
      <button
        type="button"
        className={cn(
          "pointer-events-auto h-fit w-fit rounded-full bg-zinc-50 p-2 transition-opacity duration-300 dark:bg-zinc-950",
          alwaysShow
            ? "opacity-100"
            : "opacity-0 group-hover/hover:opacity-100",
          alwaysShow
            ? "disabled:opacity-40"
            : "disabled:group-hover/hover:opacity-40",
          classNameButton
        )}
        disabled={index === 0}
        onClick={() => {
          if (index > 0) {
            setIndex(index - 1);
          }
        }}
      >
        <ChevronLeft
          className="stroke-zinc-600 dark:stroke-zinc-50"
          size={16}
        />
      </button>
      <button
        type="button"
        className={cn(
          "pointer-events-auto h-fit w-fit rounded-full bg-zinc-50 p-2 transition-opacity duration-300 dark:bg-zinc-950",
          alwaysShow
            ? "opacity-100"
            : "opacity-0 group-hover/hover:opacity-100",
          alwaysShow
            ? "disabled:opacity-40"
            : "disabled:group-hover/hover:opacity-40",
          classNameButton
        )}
        disabled={index + 1 === itemsCount}
        onClick={() => {
          if (index < itemsCount - 1) {
            setIndex(index + 1);
          }
        }}
      >
        <ChevronRight
          className="stroke-zinc-600 dark:stroke-zinc-50"
          size={16}
        />
      </button>
    </div>
  );
}

type CarouselIndicatorProps = {
  className?: string;
  classNameButton?: string;
};

function CarouselIndicator({
  className,
  classNameButton,
}: CarouselIndicatorProps) {
  const { index, itemsCount, setIndex } = useCarousel();

  return (
    <div
      className={cn(
        "absolute bottom-0 z-10 flex w-full items-center justify-center",
        className
      )}
    >
      <div className="flex space-x-2">
        {Array.from({ length: itemsCount }, (_, i) => (
          <button
            key={i}
            type="button"
            aria-label={`Go to slide ${i + 1}`}
            onClick={() => setIndex(i)}
            className={cn(
              "h-2 w-2 rounded-full transition-opacity duration-300",
              index === i
                ? "bg-zinc-950 dark:bg-zinc-50"
                : "bg-zinc-900/50 dark:bg-zinc-100/50",
              classNameButton
            )}
          />
        ))}
      </div>
    </div>
  );
}

type CarouselContentProps = {
  children: ReactNode;
  className?: string;
  transition?: Transition;
};

function CarouselContent({
  children,
  className,
  transition,
}: CarouselContentProps) {
  const { index, setIndex, setItemsCount, disableDrag } = useCarousel();
  const [visibleItemsCount, setVisibleItemsCount] = useState(1);
  const dragX = useMotionValue(0);
  const containerRef = useRef<HTMLDivElement>(null);
  const itemsLength = Children.count(children);

  useEffect(() => {
    if (!containerRef.current) {
      return;
    }

    const options = {
      root: containerRef.current,
      threshold: 0.5,
    };

    const observer = new IntersectionObserver((entries) => {
      const visibleCount = entries.filter(
        (entry) => entry.isIntersecting
      ).length;
      setVisibleItemsCount(visibleCount);
    }, options);

    const childNodes = containerRef.current.children;
    Array.from(childNodes).forEach((child) => observer.observe(child));

    return () => observer.disconnect();
  }, [children, setItemsCount]);

  useEffect(() => {
    if (!itemsLength) {
      return;
    }

    setItemsCount(itemsLength);
  }, [itemsLength, setItemsCount]);

  const onDragEnd = () => {
    const x = dragX.get();

    if (x <= -10 && index < itemsLength - 1) {
      setIndex(index + 1);
    } else if (x >= 10 && index > 0) {
      setIndex(index - 1);
    }
  };

  return (
    <motion.div
      drag={disableDrag ? false : "x"}
      dragConstraints={
        disableDrag
          ? undefined
          : {
              left: 0,
              right: 0,
            }
      }
      dragMomentum={disableDrag ? undefined : false}
      style={{
        x: disableDrag ? undefined : dragX,
      }}
      animate={{
        translateX: `-${index * (100 / visibleItemsCount)}%`,
      }}
      onDragEnd={disableDrag ? undefined : onDragEnd}
      transition={
        transition || {
          damping: 18,
          stiffness: 90,
          type: "spring",
          duration: 0.2,
        }
      }
      className={cn(
        "flex items-center",
        !disableDrag && "cursor-grab active:cursor-grabbing",
        className
      )}
      ref={containerRef}
    >
      {children}
    </motion.div>
  );
}

type CarouselItemProps = {
  children: ReactNode;
  className?: string;
};

function CarouselItem({ children, className }: CarouselItemProps) {
  return (
    <motion.div
      className={cn(
        "w-full min-w-0 shrink-0 grow-0 overflow-hidden",
        className
      )}
    >
      {children}
    </motion.div>
  );
}

export {
  Carousel,
  CarouselContent,
  CarouselNavigation,
  CarouselIndicator,
  CarouselItem,
  useCarousel,
};
```

</Step>
</Steps>

<h1 class="scroll-m-20 text-xl font-bold tracking-tight text-black dark:text-white mt-10 mb-4">
  Tech Stack
</h1>

<Cards>
  <Card title="React" />
  <Card title="Next.js" />
  <Card title="Tailwind CSS" />
  <Card title="Framer Motion" />
  <Card title="TypeScript" />
</Cards>

<h1 class="scroll-m-20 text-xl font-bold tracking-tight text-black dark:text-white mt-12">
  Props
</h1>

<h1 class="scroll-m-20 text-lg font-bold tracking-tight text-black dark:text-white mt-12">
  CarouselContextType
</h1>

<TypeTable
  type={{
    index: {
      description: "Current index of the carousel.",
      type: "number",
    },
    setIndex: {
      description: "Function to set a new carousel index.",
      type: "(newIndex: number) => void",
    },
    itemsCount: {
      description: "Total number of items in the carousel.",
      type: "number",
    },
    setItemsCount: {
      description: "Function to update the total number of carousel items.",
      type: "(newItemsCount: number) => void",
    },
    disableDrag: {
      description: "Disables drag functionality for the carousel.",
      type: "boolean",
    },
  }}
/>

<h1 class="scroll-m-20 text-lg font-bold tracking-tight text-black dark:text-white mt-12">
  CarouselProviderProps
</h1>

<TypeTable
  type={{
    children: {
      description: "React node elements to be rendered inside the provider.",
      type: "ReactNode",
    },
    initialIndex: {
      description: "The initial index of the carousel.",
      type: "number",
      default: "0",
    },
    onIndexChange: {
      description: "Callback function when the index changes.",
      type: "(newIndex: number) => void",
    },
    disableDrag: {
      description: "Indicates if drag functionality should be disabled.",
      type: "boolean",
      default: "false",
    },
  }}
/>

<h1 class="scroll-m-20 text-lg font-bold tracking-tight text-black dark:text-white mt-12">
  CarouselProps
</h1>

<TypeTable
  type={{
    children: {
      description: "React node elements representing carousel slides.",
      type: "ReactNode",
    },
    className: {
      description: "CSS class name for custom styling.",
      type: "string",
    },
    initialIndex: {
      description: "Initial index of the carousel when rendered.",
      type: "number",
      default: "0",
    },
    index: {
      description: "External control for the carousel's current index.",
      type: "number",
    },
    onIndexChange: {
      description: "Callback function when the index changes.",
      type: "(newIndex: number) => void",
    },
    disableDrag: {
      description: "Disable drag functionality for the carousel.",
      type: "boolean",
      default: "false",
    },
  }}
/>

<h1 class="scroll-m-20 text-lg font-bold tracking-tight text-black dark:text-white mt-12">
  CarouselNavigationProps
</h1>

<TypeTable
  type={{
    className: {
      description: "CSS class name for styling the navigation container.",
      type: "string",
    },
    classNameButton: {
      description: "CSS class name for styling navigation buttons.",
      type: "string",
    },
    alwaysShow: {
      description: "Always show navigation buttons or hide until hover.",
      type: "boolean",
    },
  }}
/>

<h1 class="scroll-m-20 text-lg font-bold tracking-tight text-black dark:text-white mt-12">
  CarouselIndicatorProps
</h1>

<TypeTable
  type={{
    className: {
      description: "CSS class name for styling the indicator container.",
      type: "string",
    },
    classNameButton: {
      description: "CSS class name for styling individual indicator buttons.",
      type: "string",
    },
  }}
/>

<h1 class="scroll-m-20 text-lg font-bold tracking-tight text-black dark:text-white mt-12">
  CarouselContentProps
</h1>

<TypeTable
  type={{
    children: {
      description: "The carousel's slide content.",
      type: "ReactNode",
    },
    className: {
      description: "CSS class name for custom styling.",
      type: "string",
    },
    transition: {
      description:
        "Framer Motion transition object for controlling animations.",
      type: "Transition",
    },
  }}
/>

<h1 class="scroll-m-20 text-lg font-bold tracking-tight text-black dark:text-white mt-12">
  CarouselItemProps
</h1>

<TypeTable
  type={{
    children: {
      description: "The content of the individual carousel item.",
      type: "ReactNode",
    },
    className: {
      description: "CSS class name for custom styling.",
      type: "string",
    },
  }}
/>
